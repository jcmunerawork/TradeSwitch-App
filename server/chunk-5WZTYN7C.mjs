import './polyfills.server.mjs';
import"./chunk-V6MSNGWX.mjs";import"./chunk-DX5WEOAP.mjs";import{a as P}from"./chunk-ZQTEKPLK.mjs";import"./chunk-4QIT3UAD.mjs";import{a as D}from"./chunk-OKDPP6VB.mjs";import{a as I}from"./chunk-5ISIK2WD.mjs";import{e as t,f as _,g as M,j as w,m as A,n as O,u as N,w as k}from"./chunk-ZUEZAN7G.mjs";import{q as v,r as C}from"./chunk-5EV7JWWV.mjs";import{a as F}from"./chunk-SS4N7RKX.mjs";import{a as S,q as j}from"./chunk-YWJXSM6M.mjs";import{Cb as h,I as d,Ka as m,Pa as c,Rb as a,Va as f,gd as x,qb as s,rb as n,sb as r,tb as u,xb as g,yb as b,zd as y}from"./chunk-YCCZPWYV.mjs";import"./chunk-RF6MMMYN.mjs";import"./chunk-H4UZCO6D.mjs";j();var T=class p{constructor(o,e,i,l){this.fb=o;this.authService=e;this.router=i;this.store=l;this.accountForm=this.fb.group({emailTradingAccount:["",[t.required,t.email]],brokerPassword:["",[t.required,t.minLength(6)]],broker:["",[t.required]],server:["",[t.required]],accountName:["",[t.required]],accountID:["",[t.required]],accountNumber:["",[t.required,t.pattern("^[0-9]*$")]]})}accountForm;onSubmit(){this.accountForm.valid?this.processRegistration():this.markFormGroupTouched()}processRegistration(){this.store.select(P).pipe(d()).subscribe(o=>{let e=o?.user?.id||"";this.authService.createAccount(this.createAccountObject(e)),this.router.navigate(["/trading-accounts"])})}markFormGroupTouched(){Object.keys(this.accountForm.controls).forEach(o=>{this.accountForm.get(o)?.markAsTouched()})}createAccountObject(o){let e=Date.now().toString(36),i=Math.random().toString(36).substring(2,8);return{id:`id_${e}_${i}`,userId:o,emailTradingAccount:this.accountForm.value.emailTradingAccount,brokerPassword:this.accountForm.value.brokerPassword,broker:this.accountForm.value.broker,server:this.accountForm.value.server,accountName:this.accountForm.value.accountName,accountID:this.accountForm.value.accountID,accountNumber:Number(this.accountForm.value.accountNumber),createdAt:S.now()}}static \u0275fac=function(e){return new(e||p)(c(N),c(F),c(v),c(y))};static \u0275cmp=f({type:p,selectors:[["app-add-account"]],decls:25,vars:2,consts:[[1,"signup-container"],[1,"signup-header"],[1,"signup-title"],[1,"signup-subtitle"],[1,"progress-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"signup-form",3,"ngSubmit","formGroup"],["name","emailTradingAccount","label","Email trading account*","placeholder","Your email trading account here","formControlName","emailTradingAccount",1,"form-input"],["label","Password*","placeholder","Your password here","formControlName","brokerPassword",1,"form-input"],["name","broker","label","Broker*","placeholder","Your broker here","formControlName","broker",1,"form-input"],["name","server","label","Server*","placeholder","Your account server here","formControlName","server",1,"form-input"],["name","accountName","label","Account Name*","placeholder","Your account name here","formControlName","accountName",1,"form-input"],["name","accountID","label","Account ID*","placeholder","Your account ID here","formControlName","accountID","type","number",1,"form-input"],["name","accountNumber","label","Account Number*","placeholder","Your account number here","formControlName","accountNumber","type","number",1,"form-input"],["type","submit",1,"submit-button",3,"disabled"],[1,"login-text"],["routerLink","/login"]],template:function(e,i){e&1&&(n(0,"div",0)(1,"div",1)(2,"h1",2),a(3,"Create Account"),r(),n(4,"p",3),a(5,"Because trading with rules starts right here"),r(),n(6,"div",4)(7,"div",5),u(8,"div",6),r(),u(9,"div",5),r()(),n(10,"form",7),h("ngSubmit",function(){return i.onSubmit()}),g(11),u(12,"app-text-input",8)(13,"app-password-input",9)(14,"app-text-input",10)(15,"app-text-input",11)(16,"app-text-input",12)(17,"app-text-input",13)(18,"app-text-input",14),n(19,"button",15),a(20," Submit "),r(),n(21,"p",16),a(22," Already have an account? "),n(23,"a",17),a(24,"Log in"),r()(),b(),r()()),e&2&&(m(10),s("formGroup",i.accountForm),m(9),s("disabled",i.accountForm.invalid))},dependencies:[x,k,w,_,M,A,O,D,I,C],styles:['*[_ngcontent-%COMP%]{gap:10px}.signup-container[_ngcontent-%COMP%]{overflow:hidden;max-width:480px;margin:0 auto;padding:40px 20px;min-height:100vh;display:flex;gap:1px;flex-direction:column;justify-content:center}.signup-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px;margin-top:-40px}.signup-title[_ngcontent-%COMP%]{color:var(--White, #eaf2f8);text-align:center;font-family:SF Pro Display;font-size:46px;font-feature-settings:"liga" off,"clig" off;letter-spacing:-.435px}.signup-subtitle[_ngcontent-%COMP%]{color:#ffffffb3;font-family:SF Pro Display;font-size:16px;font-style:normal;font-weight:400;line-height:14px;margin:10px 0 24px}.progress-bar[_ngcontent-%COMP%]{width:50%;height:4px;background:#fff3;border-radius:2px;overflow:hidden}.progress-fill[_ngcontent-%COMP%]{width:100%;height:100%;background:#fff;border-radius:2px;transition:width .3s ease}.progress-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.signup-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.input-label[_ngcontent-%COMP%]{color:#fff;font-family:SF Pro Display;font-size:14px;font-style:normal;font-weight:500;line-height:14px;margin:0}.submit-button[_ngcontent-%COMP%]{background:var(--Primary-400, #9bf526);color:#0a0a0a;border:none;border-radius:8px;padding:16px 24px;font-family:SF Pro Display;font-size:16px;font-style:normal;font-weight:700;line-height:14px;cursor:pointer;transition:all .2s ease;margin-top:16px}.submit-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#ffffffe6;transform:translateY(-1px)}.submit-button[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.submit-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.signup-methods-separator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;font-family:SF Pro Display;margin-top:24px;gap:8px;color:#eaf2f8;font-size:16px}.separator-line[_ngcontent-%COMP%]{flex:1;height:1px;background:#8e8e93}.social-button[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;background:transparent;border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:12px 16px;color:#fff;font-family:SF Pro Display;font-size:14px;font-style:normal;font-weight:500;line-height:14px;cursor:pointer;transition:all .2s ease}.social-button[_ngcontent-%COMP%]:hover{background:#ffffff1a}.social-buttons-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;gap:16px;margin-top:16px}.login-text[_ngcontent-%COMP%]{color:#ffffffb3;font-family:SF Pro Display;font-size:14px;font-style:normal;font-weight:400;line-height:14px;margin-top:16px}.login-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--Primary-400, #9bf526);text-decoration:none}.login-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}']})};export{T as AddAccountComponent};
