import{a as fe}from"./chunk-K32DDES3.js";import{a as _e,b as ve}from"./chunk-Q4UU5KEX.js";import{a as xe}from"./chunk-Q7LL5VG7.js";import{a as te}from"./chunk-6B66MAHI.js";import{c as U,f as D,i as F,k as H,o as W,p as I,q as A,r as K,s as q,v as S}from"./chunk-TB2EFIJE.js";import{Cc as ee,Ha as i,Kb as ue,Ma as Z,Mb as a,Nb as _,Ob as h,Oc as T,Pb as Y,Rb as m,Sa as P,Sb as g,Tb as b,W as me,Wb as $,dd as he,ea as v,fa as C,gb as B,hb as N,ib as G,jb as j,kb as z,lb as d,mb as r,nb as n,ob as x,ra as ge,vb as J,xb as u,ya as be,zb as f}from"./chunk-UAHZMN6X.js";import"./chunk-BI7C37SH.js";var ne=(o=>(o.Completed="Completed",o.Pending="Pending",o.Cancelled="Cancelled",o.Failed="Failed",o))(ne||{}),re=(e=>(e.Active="Active",e.Pending="Pending",e.Failed="Failed",e))(re||{});var Ce={grossRevenue:45750,returns:56,coupons:1870,netRevenue:24780,totalRevenue:24780},ye=[{date:"2025-08-01",grossRevenue:400},{date:"2025-08-02",grossRevenue:700},{date:"2025-08-03",grossRevenue:1100},{date:"2025-08-04",grossRevenue:1700},{date:"2025-08-05",grossRevenue:3e3},{date:"2025-08-06",grossRevenue:2350},{date:"2025-08-07",grossRevenue:900},{date:"2025-08-08",grossRevenue:1200},{date:"2025-08-09",grossRevenue:1500},{date:"2025-08-10",grossRevenue:1800},{date:"2025-08-11",grossRevenue:400},{date:"2025-08-12",grossRevenue:700},{date:"2025-08-13",grossRevenue:1100},{date:"2025-08-14",grossRevenue:1700},{date:"2025-08-15",grossRevenue:3e3},{date:"2025-08-16",grossRevenue:2350},{date:"2025-08-17",grossRevenue:900},{date:"2025-08-18",grossRevenue:1200},{date:"2025-08-19",grossRevenue:1500},{date:"2025-08-20",grossRevenue:1800},{date:"2025-08-21",grossRevenue:400},{date:"2025-08-22",grossRevenue:700},{date:"2025-08-23",grossRevenue:1100},{date:"2025-08-24",grossRevenue:1700},{date:"2025-08-25",grossRevenue:3e3},{date:"2025-08-26",grossRevenue:2350},{date:"2025-08-27",grossRevenue:900},{date:"2025-08-28",grossRevenue:1200},{date:"2025-08-29",grossRevenue:1500},{date:"2025-08-30",grossRevenue:1800},{date:"2025-08-31",grossRevenue:1800}],Me=[{year:2025,month:1,grossRevenue:21e3},{year:2025,month:2,grossRevenue:19800},{year:2025,month:3,grossRevenue:23050},{year:2025,month:4,grossRevenue:25500},{year:2025,month:5,grossRevenue:24800},{year:2025,month:6,grossRevenue:26706.52},{year:2025,month:7,grossRevenue:28e3},{year:2025,month:8,grossRevenue:29e3},{year:2025,month:9,grossRevenue:3e4},{year:2025,month:10,grossRevenue:31e3},{year:2025,month:11,grossRevenue:32e3},{year:2025,month:12,grossRevenue:33e3}],Pe=[{date:"June 23,2025",orders:2,grossRevenue:665,returns:0,coupons:52,netSales:603,taxes:0,shipping:0,totalSales:603},{date:"June 22,2025",orders:2,grossRevenue:377.5,returns:0,coupons:0,netSales:377.5,taxes:0,shipping:0,totalSales:377.5},{date:"June 21,2025",orders:0,grossRevenue:0,returns:0,coupons:0,netSales:0,taxes:0,shipping:0,totalSales:0},{date:"June 20,2025",orders:3,grossRevenue:189,returns:0,coupons:7,netSales:182,taxes:0,shipping:0,totalSales:182},{date:"June 19,2025",orders:0,grossRevenue:0,returns:0,coupons:0,netSales:0,taxes:0,shipping:0,totalSales:0}],Te=[{orderId:"#3686",user:"Andr\xE9s Valdes",date:"3 hours ago",status:"Completed",total:127,affiliateReferral:"#532",origin:"Referral:Tx3funding.com"},{orderId:"#3686",user:"Marvin McKinney",date:"3 hours ago",status:"Pending",total:127,affiliateReferral:null,origin:"Referral:Tx3funding.com"},{orderId:"#3686",user:"Guy Hawkins",date:"5 hours ago",status:"Completed",total:127,affiliateReferral:"#532",origin:"Referral:Tx3funding.com"},{orderId:"#3686",user:"Ralph Edwards",date:"6 hours ago",status:"Cancelled",total:127,affiliateReferral:"#532",origin:"Referral:Tx3funding.com"},{orderId:"#3686",user:"Jenny Wilson",date:"6 hours ago",status:"Failed",total:127,affiliateReferral:"#532",origin:"Referral:Tx3funding.com"}],Se=[{status:"Active",subscription:"#3686 Andr\xE9s Valdes",items:"Pro Model",total:"$157.00/month",startDate:"3 hours ago",trialEnd:"-",nextPayment:"July 23, 2025",lastOrderDate:"-",endDate:"-",orders:1},{status:"Pending",subscription:"#3686 Andr\xE9s Valdes",items:"Pro Model",total:"$157.00/month",startDate:"3 hours ago",trialEnd:"-",nextPayment:"July 23, 2025",lastOrderDate:"-",endDate:"-",orders:1},{status:"Active",subscription:"#3686 Andr\xE9s Valdes",items:"Pro Model",total:"$157.00/month",startDate:"3 hours ago",trialEnd:"-",nextPayment:"July 23, 2025",lastOrderDate:"-",endDate:"-",orders:1},{status:"Failed",subscription:"#3686 Andr\xE9s Valdes",items:"Pro Model",total:"$157.00/month",startDate:"3 hours ago",trialEnd:"-",nextPayment:"July 23, 2025",lastOrderDate:"-",endDate:"-",orders:1},{status:"Active",subscription:"#3686 Andr\xE9s Valdes",items:"Pro Model",total:"$157.00/month",startDate:"3 hours ago",trialEnd:"-",nextPayment:"July 23, 2025",lastOrderDate:"-",endDate:"-",orders:1}];var ae=class c{constructor(s){this.platformId=s}dailyData;monthlyData;actualYear=new Date().getFullYear();numberFormatter=new te;filterType="day";chartType="bar";chartOptions;ngOnInit(){}get filterTypeLabel(){switch(this.filterType){case"day":return"By day";case"month":return"By month";case"year":return"By year"}}setChartType(s){this.chartType=s,this.changeChartData()}setFilterType(s){this.filterType=s,this.changeChartData()}onFilterTypeChange(s){this.filterType=s.target.value,this.changeChartData()}ngOnChanges(){this.dailyData&&(this.chartOptions=this.getChartOptions(this.dailyData,this.chartType))}changeChartData(){this.filterType==="day"?this.chartOptions=this.getChartOptions(this.dailyData,this.chartType):this.filterType==="month"&&(this.chartOptions=this.getChartOptions(this.monthlyData,this.chartType))}getChartOptions(s,t){let e="date"in s[0],o=[];e?o=s.map(p=>new Date(p.date).getDate().toString()).sort((p,y)=>parseInt(p)-parseInt(y)):o=s.map(p=>new Date(p.year,p.month-1).toLocaleString("en-US",{month:"short",year:"numeric"}));let l=s.slice();e?l=l.sort((p,y)=>new Date(p.date).getDate()-new Date(y.date).getDate()):l=l.sort((p,y)=>p.year===y.year?p.month-y.month:p.year-y.year);let k=l.map(p=>p.grossRevenue),E=this.actualYear;return t==="area"?{chart:{type:"area",height:350,toolbar:{show:!1},foreColor:"#fff",fontFamily:"Inter, Arial, sans-serif",background:"transparent"},series:[{name:"months",data:k}],xaxis:{categories:o,labels:{style:{colors:"#d8d8d8"}},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{style:{colors:"#d8d8d8"}}},grid:{borderColor:"#333",strokeDashArray:4,xaxis:{lines:{show:!0}}},dataLabels:{enabled:!1},stroke:{curve:"straight",width:1,colors:["#EAF2F8"]},fill:{type:"gradient",gradient:{shade:"dark",type:"vertical",gradientToColors:["#3967D7"],opacityFrom:.9,opacityTo:0}},tooltip:{theme:"dark",x:{show:!0},custom:function({series:p,seriesIndex:y,dataPointIndex:w,w:ce}){let Q=p[y][w],O=w>0?p[y][w-1]:null,M=0,R=null,V="",L="";return O!==null&&O!==0?(M=Math.round((Q-O)/Math.abs(O)*100),R=M>0?"up":"down",R==="up"?(V="positive-container",L="positive-validator"):(V="negative-container",L="negative-validator")):(M=null,R=null),`<div class=" ${V} regularText color-background d-flex flex-col toolTip-container items-start">
          <p class="smallText color-text-gray">${E}</p>
          <div class="d-flex text-container items-center ">
                    <p class= "subtitle">
                    $${Q}
          </p>
          ${M!=null?`<span class="smallText py-4 px-6 d-flex justify-center items-center ${L}">${M}% <span class="${R==="up"?"icon-status-arrow-up":"icon-status-arrow"} ml-3"></span></span>`:""}
          </div>

        
          </div>`},position:function(p,y){return{left:p.point.x,top:p.point.y-160}}}}:{chart:{type:"bar",height:350,toolbar:{show:!1},foreColor:"#fff",background:"transparent",fontFamily:"Inter, Arial, sans-serif"},series:[{name:"Gross Revenue",data:k}],fill:{colors:["#F44336","#E91E63","#9C27B0"]},xaxis:{categories:o,labels:{style:{colors:"#d8d8d8"}},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{style:{colors:"#d8d8d8"}}},grid:{borderColor:"#333",strokeDashArray:4,xaxis:{lines:{show:!0}}},dataLabels:{enabled:!1},tooltip:{theme:"dark",x:{show:!0},custom:({series:p,seriesIndex:y,dataPointIndex:w,w:ce})=>{let Q=p[y][w],O=w>0?p[y][w-1]:null,M=0,R=null,V="",L="";O!==null&&O!==0?(M=Math.round((Q-O)/Math.abs(O)*100),R=M>0?"up":"down",R==="up"?(V="positive-container",L="positive-validator"):(V="negative-container",L="negative-validator")):(M=null,R=null);let Oe=this.numberFormatter.formatCurrency(Q),Re=this.numberFormatter.formatPercentageValue(M);return`<div class=" ${V} regularText color-background d-flex flex-col toolTip-container items-start">
          <p class="smallText color-text-gray">${E}</p>
          <div class="d-flex text-container items-center ">
            <p class= "subtitle">${Oe}</p>
            ${M!=null?`<span class="smallText py-4 px-6 d-flex justify-center items-center ${L}">
                     ${Re}% <span class="${R==="up"?"icon-status-arrow-up":"icon-status-arrow"} ml-3"></span>
                   </span>`:""}
          </div>
        </div>`}}}}capitalizeFirstLetter(s){return s?s.charAt(0).toUpperCase()+s.slice(1):""}get grossRevenue(){return this.dailyData.reduce((t,e)=>t+(e.grossRevenue??0),0)}static \u0275fac=function(t){return new(t||c)(Z(be))};static \u0275cmp=P({type:c,selectors:[["app-revenue-graph"]],inputs:{dailyData:"dailyData",monthlyData:"monthlyData"},features:[ge],decls:20,vars:13,consts:[[1,"pnl-graph-container","p-24","d-flex","flex-col","items-start"],[1,"ml-10","d-flex","justify-between","items-center","up-title"],[1,"color-background"],[1,"regularText"],[1,"secondTitle","my-26"],[1,"d-flex","items-center","justify-between"],["id","range-year-select",1,"mr-24","py-6","px-8","color-secondary-300","regularText",3,"ngModelChange","change","ngModel"],["value","day"],["value","month"],[1,"chart-mode-toggle","p-10"],[1,"mr-14","color-secondary-500",3,"click"],[1,"icon-report"],[1,"color-secondary-500",3,"click"],[1,"icon-line"],[2,"width","100%",3,"series","chart","xaxis","yaxis","grid","dataLabels","tooltip"],[1,"smallText","color-text-gray"]],template:function(t,e){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),a(4,"Gross Revenue"),n(),r(5,"p",4),a(6),n()(),r(7,"div",5)(8,"select",6),b("ngModelChange",function(l){return g(e.filterType,l)||(e.filterType=l),l}),u("change",function(l){return e.onFilterTypeChange(l)}),r(9,"option",7),a(10,"By day"),n(),r(11,"option",8),a(12,"By month"),n()(),r(13,"div",9)(14,"button",10),u("click",function(){return e.setChartType("bar")}),x(15,"span",11),n(),r(16,"button",12),u("click",function(){return e.setChartType("area")}),x(17,"span",13),n()()()(),x(18,"apx-chart",14)(19,"p",15),n()),t&2&&(i(6),h("$",e.grossRevenue),i(2),m("ngModel",e.filterType),i(6),ue("selected",e.chartType==="bar"),i(2),ue("selected",e.chartType==="area"),i(2),d("series",e.chartOptions.series)("chart",e.chartOptions.chart)("xaxis",e.chartOptions.xaxis)("yaxis",e.chartOptions.yaxis)("grid",e.chartOptions.grid)("dataLabels",e.chartOptions.dataLabels)("tooltip",e.chartOptions.tooltip))},dependencies:[T,ve,_e,S,I,A,W,D,F],styles:[".pnl-graph-container[_ngcontent-%COMP%]{border-radius:16px;border:.5px solid #434343;background:radial-gradient(ellipse 36% 42% at top center,#5186e41a,#5186e403)}.up-title[_ngcontent-%COMP%]{width:100%}select[_ngcontent-%COMP%]{border-radius:4px;border:none;background:#9ec4f21a}option[_ngcontent-%COMP%]{background-color:#23293b;color:#b6c7de;font-size:1rem;padding:14px 0}option[_ngcontent-%COMP%]:checked{background-color:#363d4f;color:#f4faff}  apx-chart .apexcharts-tooltip{display:flex;flex-direction:column;align-items:flex-start;border-radius:8px;border:.5px solid #4a4a4a;background:#101010e6!important;box-shadow:0 4px 4px #00000040}  apx-chart .toolTip-container{gap:1rem;width:100%;height:100%;padding:20px}  apx-chart .negative-container{background:radial-gradient(ellipse 60% 80% at center,#fe63661f,#fe63660a 70%,#101010e6),#101010e6}  apx-chart .positive-container{background:radial-gradient(ellipse 60% 80% at top center,#bcfe6329,#bcfe6303),#101010e6}  apx-chart .text-container{gap:.375rem}  apx-chart .positive-validator{border-radius:var(--Corner-Extra-small, 4px);background:#468506;color:#bcfe63}  apx-chart .negative-validator{border-radius:var(--Corner-Extra-small, 4px);background:#ec221f26;color:#ec221f}.selected[_ngcontent-%COMP%]{border-radius:4px;padding:6px;background:#eaf2f8!important}.chart-mode-toggle[_ngcontent-%COMP%]{border-radius:var(--Corner-Extra-small, 4px);background:#9ec4f21a}.chart-mode-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:transparent;cursor:pointer}.chart-mode-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem}"]})};function ke(c,s){if(c&1){let t=J();r(0,"div",14)(1,"label",28),a(2,"Orders:"),n(),r(3,"div",29)(4,"input",30),b("ngModelChange",function(o){v(t);let l=f();return g(l.filter.minOrders,o)||(l.filter.minOrders=o),C(o)}),n(),r(5,"label",31),a(6,"min"),n()(),r(7,"div",29)(8,"input",32),b("ngModelChange",function(o){v(t);let l=f();return g(l.filter.maxOrders,o)||(l.filter.maxOrders=o),C(o)}),n(),r(9,"label",33),a(10,"max"),n()(),r(11,"label",28),a(12,"Gross Revenue:"),n(),r(13,"div",29)(14,"input",34),b("ngModelChange",function(o){v(t);let l=f();return g(l.filter.minGrossRevenue,o)||(l.filter.minGrossRevenue=o),C(o)}),n(),r(15,"label",35),a(16,"min $"),n()(),r(17,"div",29)(18,"input",36),b("ngModelChange",function(o){v(t);let l=f();return g(l.filter.maxGrossRevenue,o)||(l.filter.maxGrossRevenue=o),C(o)}),n(),r(19,"label",37),a(20,"max $"),n()(),r(21,"label",28),a(22,"Total sales:"),n(),r(23,"div",29)(24,"input",38),b("ngModelChange",function(o){v(t);let l=f();return g(l.filter.minTotalSales,o)||(l.filter.minTotalSales=o),C(o)}),n(),r(25,"label",39),a(26,"min $"),n()(),r(27,"div",29)(28,"input",40),b("ngModelChange",function(o){v(t);let l=f();return g(l.filter.maxTotalSales,o)||(l.filter.maxTotalSales=o),C(o)}),n(),r(29,"label",41),a(30,"max $"),n()(),r(31,"button",42),u("click",function(){v(t);let o=f();return C(o.apply())}),a(32," Apply "),n()()}if(c&2){let t=f();i(4),m("ngModel",t.filter.minOrders),i(4),m("ngModel",t.filter.maxOrders),i(6),m("ngModel",t.filter.minGrossRevenue),i(4),m("ngModel",t.filter.maxGrossRevenue),i(6),m("ngModel",t.filter.minTotalSales),i(4),m("ngModel",t.filter.maxTotalSales)}}function Ee(c,s){if(c&1&&(r(0,"tr")(1,"td",43)(2,"p"),a(3),n()(),r(4,"td",44)(5,"p"),a(6),n()(),r(7,"td",45)(8,"p"),a(9),n()(),r(10,"td",45)(11,"p"),a(12),n()(),r(13,"td",45)(14,"p"),a(15),n()(),r(16,"td",45)(17,"p"),a(18),n()(),r(19,"td",45)(20,"p"),a(21),n()(),r(22,"td",45)(23,"p"),a(24),n()(),r(25,"td",45)(26,"p"),a(27),n()()()),c&2){let t=s.$implicit,e=f();i(3),h(" ",t.date," "),i(3),h(" ",t.orders," "),i(3),_(e.formatCurrency(t.grossRevenue)),i(3),_(e.formatCurrency(t.returns)),i(3),_(e.formatCurrency(t.coupons)),i(3),_(e.formatCurrency(t.netSales)),i(3),_(e.formatCurrency(t.taxes)),i(3),_(e.formatCurrency(t.shipping)),i(3),_(e.formatCurrency(t.totalSales))}}var le=class c{revenueRows=[];showFilter=!1;currentPage=1;itemsPerPage=10;sortField="date";sortAsc=!0;filter={};numberFormatter=new te;_searchTerm="";get searchTerm(){return this._searchTerm}set searchTerm(s){this._searchTerm=s,this.goToPage(1)}get filteredRows(){let s=this.filterRevenueRows(this.revenueRows,this.filter);return s=s.sort((t,e)=>{let o=t[this.sortField].toLowerCase(),l=e[this.sortField].toLowerCase();return o<l?this.sortAsc?-1:1:o>l?this.sortAsc?1:-1:0}),s}get paginatedRows(){let s=(this.currentPage-1)*this.itemsPerPage,t=s+this.itemsPerPage;return this.filteredRows.slice(s,t)}get totalPages(){return Math.ceil(this.filteredRows.length/this.itemsPerPage)}openFilter(){this.showFilter=!this.showFilter}closeFilter(){this.showFilter=!1}apply(){this.showFilter=!1,this.applyFilters()}applyFilters(){this.goToPage(1)}goToPage(s){s<1&&(s=1),s>this.totalPages&&(s=this.totalPages),this.currentPage=s}prevPage(){this.goToPage(this.currentPage-1)}nextPage(){this.goToPage(this.currentPage+1)}toggleSort(){this.sortAsc=!this.sortAsc}filterRevenueRows(s,t){let e=t.searchTerm?.toLowerCase()??"";return s.filter(o=>{let l=e===""||o.date.toLowerCase().includes(e),k=t.minOrders===void 0||t.minOrders===null||o.orders>=t.minOrders,E=t.maxOrders===void 0||t.maxOrders===null||o.orders<=t.maxOrders,p=t.minGrossRevenue===void 0||t.minGrossRevenue===null||o.grossRevenue>=t.minGrossRevenue,y=t.maxGrossRevenue===void 0||t.maxGrossRevenue===null||o.grossRevenue<=t.maxGrossRevenue,w=t.minTotalSales===void 0||t.minTotalSales===null||o.totalSales>=t.minTotalSales,ce=t.maxTotalSales===void 0||t.maxTotalSales===null||o.totalSales<=t.maxTotalSales;return this.showFilter?l:l&&k&&E&&p&&y&&w&&ce})}formatCurrency(s){return this.numberFormatter.formatCurrency(s)}static \u0275fac=function(t){return new(t||c)};static \u0275cmp=P({type:c,selectors:[["app-revenue-table"]],inputs:{revenueRows:"revenueRows"},decls:72,vars:17,consts:[[1,"table-container","color-background","d-flex","flex-col","justify-between","p-24","mb-24"],[1,"d-flex","flex-col"],[1,"d-flex","justify-between","items-center","mb-24"],[1,"table-titles"],[1,"subtitle","mb-6"],[1,"table-actions-container","smallText","d-flex","items-center"],[1,"search-user-container","d-flex","items-center","p-10","mr-10"],["for","search-user",1,"mr-10"],[1,"icon-search","color-background"],["id","search-user","type","text","placeholder","Search date",1,"search-box","color-background","smallText",3,"ngModelChange","ngModel"],[1,"sort-Btn","regularText","color-secondary-300","p-10","mr-10",3,"click"],[1,"filter-container"],[1,"filter-btn","color-secondary-300","smallText","d-flex","items-center","p-10",3,"click"],[1,"icon-filter","color-secondary-300"],[1,"filter-modal","py-20","px-24","d-flex","flex-col"],[1,"table-scroll-container"],[1,"regularText"],[1,"regularText","py-18"],[1,"pagination-controls","d-flex","justify-between","items-center","mt-10","regularText"],[1,"page-controls","d-flex","justify-between","items-center"],[1,"side-controls","d-flex","items-center"],[1,"regularText",3,"click","disabled"],[1,"d-flex","items-center"],[1,"d-flex","justify-between","items-center","mt-10"],["for","page-input",1,"regularText","mr-10","pb-2"],["id","page-input","type","number",1,"page-input","p-8","smallText","color-background",2,"width","4rem",3,"ngModelChange","change","min","max","ngModel"],[1,"color-secondary-300","smallText","mt-10","ml-20",3,"ngModelChange","change","ngModel"],[3,"value"],[1,"mt-10"],[1,"percentage-input","d-flex","items-center","justify-between","p-10"],["id","min-orders","type","number","placeholder","Min",1,"search-box","color-background","smallText",3,"ngModelChange","ngModel"],["for","min-orders"],["id","max-orders","type","number","placeholder","Max",1,"search-box","color-background","smallText",3,"ngModelChange","ngModel"],["for","max-orders"],["id","min-gross-revenue","type","number","placeholder","Min $",1,"search-box","color-background","smallText",3,"ngModelChange","ngModel"],["for","min-gross-revenue"],["id","max-gross-revenue","type","number","placeholder","Max $",1,"search-box","color-background","smallText",3,"ngModelChange","ngModel"],["for","max-gross-revenue"],["id","min-total-sales","type","number","placeholder","Min $",1,"search-box","color-background","smallText",3,"ngModelChange","ngModel"],["for","min-total-sales"],["id","max-total-sales","type","number","placeholder","Max $",1,"search-box","color-background","smallText",3,"ngModelChange","ngModel"],["for","max-total-sales"],[1,"filter-btn","p-10","bg-primary-400","color-bg-black","inputText",3,"click"],[1,"smallText",2,"width","10.5rem"],[1,"smallText",2,"width","12.5rem"],[1,"smallText"]],template:function(t,e){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),a(5,"Revenue"),n()(),r(6,"div",5)(7,"div",6)(8,"label",7),x(9,"span",8),n(),r(10,"input",9),b("ngModelChange",function(l){return g(e.searchTerm,l)||(e.searchTerm=l),l}),n()(),r(11,"button",10),u("click",function(){return e.toggleSort()}),r(12,"span"),a(13),n(),a(14),n(),r(15,"div",11)(16,"button",12),u("click",function(){return e.openFilter()}),x(17,"span",13),a(18," Filter "),n(),B(19,ke,33,6,"div",14),n()()(),r(20,"div",15)(21,"table",16)(22,"thead")(23,"tr")(24,"th",17),a(25,"Date"),n(),r(26,"th",17),a(27,"Orders"),n(),r(28,"th",17),a(29,"Gross Revenue"),n(),r(30,"th",17),a(31,"Returns"),n(),r(32,"th",17),a(33,"Coupons"),n(),r(34,"th",17),a(35,"Net sales"),n(),r(36,"th",17),a(37,"Taxes"),n(),r(38,"th",17),a(39,"Shipping"),n(),r(40,"th",17),a(41,"Total sales"),n(),x(42,"th"),n()(),r(43,"tbody"),j(44,Ee,28,9,"tr",null,G),n()()()(),r(46,"div",18)(47,"div",19)(48,"div",20)(49,"button",21),u("click",function(){return e.prevPage()}),a(50," < "),n(),r(51,"button",21),u("click",function(){return e.goToPage(1)}),a(52," << "),n()(),r(53,"span"),a(54),n(),r(55,"div",20)(56,"button",21),u("click",function(){return e.goToPage(e.totalPages)}),a(57," >> "),n(),r(58,"button",21),u("click",function(){return e.nextPage()}),a(59," > "),n()()(),r(60,"div",22)(61,"div",23)(62,"label",24),a(63,"Go to page"),n(),r(64,"input",25),b("ngModelChange",function(l){return g(e.currentPage,l)||(e.currentPage=l),l}),u("change",function(){return e.goToPage(e.currentPage)}),n()(),r(65,"select",26),b("ngModelChange",function(l){return g(e.itemsPerPage,l)||(e.itemsPerPage=l),l}),u("change",function(){return e.goToPage(1)}),r(66,"option",27),a(67,"5 items"),n(),r(68,"option",27),a(69,"10 items"),n(),r(70,"option",27),a(71,"25 items"),n()()()()()),t&2&&(i(10),m("ngModel",e.searchTerm),i(3),_(e.sortAsc?"\u2191":"\u2193"),i(),h(" ",e.sortAsc?"Sort by: First date":"Sort by: Last date"," "),i(5),N(e.showFilter?19:-1),i(25),z(e.paginatedRows),i(5),d("disabled",e.currentPage===1),i(2),d("disabled",e.currentPage===1),i(3),Y("Page ",e.currentPage," of ",e.totalPages),i(2),d("disabled",e.currentPage===e.totalPages),i(2),d("disabled",e.currentPage===e.totalPages),i(6),d("min",1)("max",e.totalPages),m("ngModel",e.currentPage),i(),m("ngModel",e.itemsPerPage),i(),d("value",5),i(2),d("value",10),i(2),d("value",25))},dependencies:[T,S,I,A,U,H,W,D,q,K,F],styles:[".table-container[_ngcontent-%COMP%]{background:radial-gradient(ellipse 36% 42% at top center,#5186e41a,#5186e403);border-radius:16px;border:.5px solid #434343;max-height:43rem}.table-container[_ngcontent-%COMP%]   .table-scroll-container[_ngcontent-%COMP%]{max-height:500px;overflow-y:auto}.search-box[_ngcontent-%COMP%]{background-color:transparent;border:none}.search-box[_ngcontent-%COMP%]:focus{outline:none}.search-box[_ngcontent-%COMP%]::placeholder{color:#cfd8dc}.search-user-container[_ngcontent-%COMP%], .percentage-input[_ngcontent-%COMP%]{border-radius:6px}.search-user-container[_ngcontent-%COMP%]{border:1px solid var(--White, #eaf2f8)}.percentage-input[_ngcontent-%COMP%]{border:.5px solid #434343}.percentage-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:3rem}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-top:1px solid #2e3440}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:-2px;background-color:#151516;z-index:10;border-bottom:1px solid #444}.table-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.table-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#222b39;border-radius:6px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:14px;text-align:left}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #2e3440}.status[_ngcontent-%COMP%]{border-radius:4px;width:100%}.purchased[_ngcontent-%COMP%]{background:#007aff26;color:#9fcdff}.pending[_ngcontent-%COMP%]{background:#ff950026;color:#ffc16b}.unverified[_ngcontent-%COMP%]{background:#49548626;color:#b5b4fd}.filter-btn[_ngcontent-%COMP%]{height:fit-content;border-radius:6px;border:none;cursor:pointer;text-decoration:none}.filter-modal[_ngcontent-%COMP%]{position:absolute;top:45px;right:0;background:radial-gradient(ellipse 36% 42% at top center,#5186e41a,#5186e403),#181a1d;border:.5px solid #4a4a4a;color:#e4e7ec;border-radius:6px;box-shadow:0 4px 16px #35353524;gap:16px;z-index:100}.filter-modal[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500}.filter-modal[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:#181a1d;border:.5px solid #434343;border-radius:6px;padding:7px}.filter-modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:fit-content;border-radius:6px;border:none;cursor:pointer}.filter-container[_ngcontent-%COMP%]{position:relative}.filter-btn[_ngcontent-%COMP%]{border-radius:6px;background:#9ec4f21a;border:none;gap:10px;cursor:pointer;transition:background .2s}.filter-btn[_ngcontent-%COMP%]:hover{background:#232939}.progress-container[_ngcontent-%COMP%]{width:100%}.progress-bar-bg[_ngcontent-%COMP%]{width:100%;height:7px;border-radius:6px;background:#202621;position:relative;overflow:hidden}.progress-bar-fill[_ngcontent-%COMP%]{height:100%;border-radius:6px;background:#9bf526;transition:width .2s}.pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;color:#5186e4;border:none;cursor:pointer}.pagination-controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-radius:.25rem;background:#9ec4f21a;border:none;padding:7px}.pagination-controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:#181a1d;border:none}.pagination-controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:focus{outline:none}.pagination-controls[_ngcontent-%COMP%]   .side-controls[_ngcontent-%COMP%]{gap:1.25rem}.pagination-controls[_ngcontent-%COMP%]   .page-controls[_ngcontent-%COMP%]{gap:1.625rem}.pagination-controls[_ngcontent-%COMP%]   .page-input[_ngcontent-%COMP%]{background:transparent;border-radius:6px;border:1px solid var(--White, #eaf2f8)}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield;-moz-appearance:textfield}.sort-Btn[_ngcontent-%COMP%]{border-radius:.375rem;background:#9ec4f21a;border:none}"]});static \u0275prov=me({token:c,factory:c.\u0275fac})};function Fe(c,s){if(c&1){let t=J();r(0,"div",14)(1,"label"),a(2,"Status:"),n(),r(3,"select",29),b("ngModelChange",function(o){v(t);let l=f();return g(l.filter.status,o)||(l.filter.status=o),C(o)}),r(4,"option",30),a(5,"All"),n(),r(6,"option",28),a(7),n(),r(8,"option",28),a(9),n(),r(10,"option",28),a(11),n(),r(12,"option",28),a(13),n()(),r(14,"label",31),a(15,"Total:"),n(),r(16,"div",32)(17,"input",33),b("ngModelChange",function(o){v(t);let l=f();return g(l.filter.minTotal,o)||(l.filter.minTotal=o),C(o)}),n(),r(18,"label",34),a(19,"min"),n()(),r(20,"div",32)(21,"input",35),b("ngModelChange",function(o){v(t);let l=f();return g(l.filter.maxTotal,o)||(l.filter.maxTotal=o),C(o)}),n(),r(22,"label",36),a(23,"max"),n()(),r(24,"button",37),u("click",function(){v(t);let o=f();return C(o.apply())}),a(25," Apply "),n()()}if(c&2){let t=f();i(3),m("ngModel",t.filter.status),i(3),d("value",t.orderStatus.Completed),i(),h(" ",t.orderStatus.Completed," "),i(),d("value",t.orderStatus.Pending),i(),h(" ",t.orderStatus.Pending," "),i(),d("value",t.orderStatus.Cancelled),i(),h(" ",t.orderStatus.Cancelled," "),i(),d("value",t.orderStatus.Failed),i(),h(" ",t.orderStatus.Failed," "),i(4),m("ngModel",t.filter.minTotal),i(4),m("ngModel",t.filter.maxTotal)}}function We(c,s){if(c&1&&(r(0,"tr")(1,"td",38)(2,"p"),a(3),n()(),r(4,"td",39)(5,"p"),a(6),n()(),r(7,"td",40)(8,"p",41),a(9),n()(),r(10,"td",40)(11,"p"),a(12,"-"),n()(),r(13,"td",40)(14,"p"),a(15),n()(),r(16,"td",40)(17,"p"),a(18),n()(),r(19,"td",40)(20,"p"),a(21),n()()()),c&2){let t=s.$implicit,e=f();i(3),h(" ",`${t.orderId} ${t.user}`," "),i(3),h(" ",t.date," "),i(2),d("ngClass",e.statusClass(t.status)),i(),h(" ",t.status," "),i(6),h("$",t.total),i(3),_(t.affiliateReferral?t.affiliateReferral:"-"),i(3),h("$",t.origin)}}var se=class c{orderRows=[];showFilter=!1;currentPage=1;itemsPerPage=10;sortField="date";sortAsc=!0;orderStatus=ne;filter={};_searchTerm="";get searchTerm(){return this._searchTerm}set searchTerm(s){this._searchTerm=s,this.goToPage(1)}get filteredRows(){let s=this.filterOrderRows(this.orderRows,this.filter);return s=s.sort((t,e)=>{let o=t[this.sortField].toLowerCase(),l=e[this.sortField].toLowerCase();return o<l?this.sortAsc?-1:1:o>l?this.sortAsc?1:-1:0}),s}get paginatedRows(){let s=(this.currentPage-1)*this.itemsPerPage,t=s+this.itemsPerPage;return this.filteredRows.slice(s,t)}get totalPages(){return Math.ceil(this.filteredRows.length/this.itemsPerPage)}statusClass(s){return s}openFilter(){this.showFilter=!this.showFilter}closeFilter(){this.showFilter=!1}apply(){this.showFilter=!1,this.applyFilters()}applyFilters(){this.goToPage(1)}goToPage(s){s<1&&(s=1),s>this.totalPages&&(s=this.totalPages),this.currentPage=s}prevPage(){this.goToPage(this.currentPage-1)}nextPage(){this.goToPage(this.currentPage+1)}toggleSort(){this.sortAsc=!this.sortAsc}filterOrderRows(s,t){let e=t.searchTerm?.toLowerCase()??"";return s.filter(o=>{let l=e===""||`${o.orderId} ${o.user}`.toLowerCase().includes(e),k=t.status===void 0||t.status===null||t.status===""||o.status===t.status,E=t.minTotal===void 0||t.minTotal===null||o.total>=t.minTotal,p=t.maxTotal===void 0||t.maxTotal===null||o.total<=t.maxTotal;return this.showFilter?l:l&&k&&E&&p})}static \u0275fac=function(t){return new(t||c)};static \u0275cmp=P({type:c,selectors:[["app-orders-table"]],inputs:{orderRows:"orderRows"},decls:68,vars:17,consts:[[1,"table-container","color-background","d-flex","flex-col","justify-between","p-24","mb-24"],[1,"d-flex","flex-col"],[1,"d-flex","justify-between","items-center","mb-24"],[1,"table-titles"],[1,"subtitle","mb-6"],[1,"table-actions-container","smallText","d-flex","items-center"],[1,"search-user-container","d-flex","items-center","p-10","mr-10"],["for","search-user",1,"mr-10"],[1,"icon-search","color-background"],["id","search-user","type","text","placeholder","Search order",1,"search-box","color-background","smallText",3,"ngModelChange","ngModel"],[1,"sort-Btn","regularText","color-secondary-300","p-10","mr-10",3,"click"],[1,"filter-container"],[1,"filter-btn","color-secondary-300","smallText","d-flex","items-center","p-10",3,"click"],[1,"icon-filter","color-secondary-300"],[1,"filter-modal","py-20","px-24","d-flex","flex-col"],[1,"table-scroll-container"],[1,"regularText"],[1,"regularText","py-18"],[1,"icon-refresh","color-secondary-500"],[1,"pagination-controls","d-flex","justify-between","items-center","mt-10","regularText"],[1,"page-controls","d-flex","justify-between","items-center"],[1,"side-controls","d-flex","items-center"],[1,"regularText",3,"click","disabled"],[1,"d-flex","items-center"],[1,"d-flex","justify-between","items-center","mt-10"],["for","page-input",1,"regularText","mr-10","pb-2"],["id","page-input","type","number",1,"page-input","p-8","smallText","color-background",2,"width","4rem",3,"ngModelChange","change","min","max","ngModel"],[1,"color-secondary-300","smallText","mt-10","ml-20",3,"ngModelChange","change","ngModel"],[3,"value"],[1,"color-background",3,"ngModelChange","ngModel"],["value",""],[1,"mt-10"],[1,"percentage-input","d-flex","items-center","justify-between","p-10"],["id","min-orders","type","number","placeholder","Min",1,"search-box","color-background","smallText",3,"ngModelChange","ngModel"],["for","min-orders"],["id","max-orders","type","number","placeholder","Max",1,"search-box","color-background","smallText",3,"ngModelChange","ngModel"],["for","max-orders"],[1,"filter-btn","p-10","bg-primary-400","color-bg-black","inputText",3,"click"],[1,"smallText",2,"width","10.5rem"],[1,"smallText",2,"width","12.5rem"],[1,"smallText"],[1,"status","p-6",3,"ngClass"]],template:function(t,e){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),a(5,"Orders"),n()(),r(6,"div",5)(7,"div",6)(8,"label",7),x(9,"span",8),n(),r(10,"input",9),b("ngModelChange",function(l){return g(e.searchTerm,l)||(e.searchTerm=l),l}),n()(),r(11,"button",10),u("click",function(){return e.toggleSort()}),r(12,"span"),a(13),n(),a(14),n(),r(15,"div",11)(16,"button",12),u("click",function(){return e.openFilter()}),x(17,"span",13),a(18," Filter "),n(),B(19,Fe,26,11,"div",14),n()()(),r(20,"div",15)(21,"table",16)(22,"thead")(23,"tr")(24,"th",17),a(25,"Order"),n(),r(26,"th",17),a(27,"Date"),n(),r(28,"th",17),a(29,"Status"),n(),r(30,"th",17),x(31,"span",18),n(),r(32,"th",17),a(33,"Total"),n(),r(34,"th",17),a(35,"Affiliate Referral"),n(),r(36,"th",17),a(37,"Origin"),n(),x(38,"th"),n()(),r(39,"tbody"),j(40,We,22,7,"tr",null,G),n()()()(),r(42,"div",19)(43,"div",20)(44,"div",21)(45,"button",22),u("click",function(){return e.prevPage()}),a(46," < "),n(),r(47,"button",22),u("click",function(){return e.goToPage(1)}),a(48," << "),n()(),r(49,"span"),a(50),n(),r(51,"div",21)(52,"button",22),u("click",function(){return e.goToPage(e.totalPages)}),a(53," >> "),n(),r(54,"button",22),u("click",function(){return e.nextPage()}),a(55," > "),n()()(),r(56,"div",23)(57,"div",24)(58,"label",25),a(59,"Go to page"),n(),r(60,"input",26),b("ngModelChange",function(l){return g(e.currentPage,l)||(e.currentPage=l),l}),u("change",function(){return e.goToPage(e.currentPage)}),n()(),r(61,"select",27),b("ngModelChange",function(l){return g(e.itemsPerPage,l)||(e.itemsPerPage=l),l}),u("change",function(){return e.goToPage(1)}),r(62,"option",28),a(63,"5 items"),n(),r(64,"option",28),a(65,"10 items"),n(),r(66,"option",28),a(67,"25 items"),n()()()()()),t&2&&(i(10),m("ngModel",e.searchTerm),i(3),_(e.sortAsc?"\u2191":"\u2193"),i(),h(" ",e.sortAsc?"Sort by: First date":"Sort by: Last date"," "),i(5),N(e.showFilter?19:-1),i(21),z(e.paginatedRows),i(5),d("disabled",e.currentPage===1),i(2),d("disabled",e.currentPage===1),i(3),Y("Page ",e.currentPage," of ",e.totalPages),i(2),d("disabled",e.currentPage===e.totalPages),i(2),d("disabled",e.currentPage===e.totalPages),i(6),d("min",1)("max",e.totalPages),m("ngModel",e.currentPage),i(),m("ngModel",e.itemsPerPage),i(),d("value",5),i(2),d("value",10),i(2),d("value",25))},dependencies:[T,ee,S,I,A,U,H,W,D,q,K,F],styles:[".table-container[_ngcontent-%COMP%]{background:radial-gradient(ellipse 36% 42% at top center,#5186e41a,#5186e403);border-radius:16px;border:.5px solid #434343;max-height:43rem}.table-container[_ngcontent-%COMP%]   .table-scroll-container[_ngcontent-%COMP%]{max-height:500px;overflow-y:auto}.search-box[_ngcontent-%COMP%]{background-color:transparent;border:none}.search-box[_ngcontent-%COMP%]:focus{outline:none}.search-box[_ngcontent-%COMP%]::placeholder{color:#cfd8dc}.search-user-container[_ngcontent-%COMP%], .percentage-input[_ngcontent-%COMP%]{border-radius:6px}.search-user-container[_ngcontent-%COMP%]{border:1px solid var(--White, #eaf2f8)}.percentage-input[_ngcontent-%COMP%]{border:.5px solid #434343}.percentage-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:3rem}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-top:1px solid #2e3440}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:-2px;background-color:#151516;z-index:10;border-bottom:1px solid #444}.table-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.table-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#222b39;border-radius:6px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:14px;text-align:left}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #2e3440}.status[_ngcontent-%COMP%]{border-radius:4px;width:100%;width:fit-content}.Completed[_ngcontent-%COMP%]{background:#007aff26;color:#9fcdff}.Pending[_ngcontent-%COMP%]{background:#ff950026;color:#ffc16b}.Cancelled[_ngcontent-%COMP%]{background:#b4b4b426;color:#b3b3bd}.Failed[_ngcontent-%COMP%]{background:#ff3b3026;color:#ff3b30}.filter-btn[_ngcontent-%COMP%]{height:fit-content;border-radius:6px;border:none;cursor:pointer;text-decoration:none}.filter-modal[_ngcontent-%COMP%]{position:absolute;top:45px;right:0;background:radial-gradient(ellipse 36% 42% at top center,#5186e41a,#5186e403),#181a1d;border:.5px solid #4a4a4a;color:#e4e7ec;border-radius:6px;box-shadow:0 4px 16px #35353524;gap:16px;z-index:100}.filter-modal[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500}.filter-modal[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:#181a1d;border:.5px solid #434343;border-radius:6px;padding:7px}.filter-modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:fit-content;border-radius:6px;border:none;cursor:pointer}.filter-container[_ngcontent-%COMP%]{position:relative}.filter-btn[_ngcontent-%COMP%]{border-radius:6px;background:#9ec4f21a;border:none;gap:10px;cursor:pointer;transition:background .2s}.filter-btn[_ngcontent-%COMP%]:hover{background:#232939}.progress-container[_ngcontent-%COMP%]{width:100%}.progress-bar-bg[_ngcontent-%COMP%]{width:100%;height:7px;border-radius:6px;background:#202621;position:relative;overflow:hidden}.progress-bar-fill[_ngcontent-%COMP%]{height:100%;border-radius:6px;background:#9bf526;transition:width .2s}.pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;color:#5186e4;border:none;cursor:pointer}.pagination-controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-radius:.25rem;background:#9ec4f21a;border:none;padding:7px}.pagination-controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:#181a1d;border:none}.pagination-controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:focus{outline:none}.pagination-controls[_ngcontent-%COMP%]   .side-controls[_ngcontent-%COMP%]{gap:1.25rem}.pagination-controls[_ngcontent-%COMP%]   .page-controls[_ngcontent-%COMP%]{gap:1.625rem}.pagination-controls[_ngcontent-%COMP%]   .page-input[_ngcontent-%COMP%]{background:transparent;border-radius:6px;border:1px solid var(--White, #eaf2f8)}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield;-moz-appearance:textfield}.sort-Btn[_ngcontent-%COMP%]{border-radius:.375rem;background:#9ec4f21a;border:none}"]})};function Ie(c,s){if(c&1){let t=J();r(0,"div",14)(1,"label"),a(2,"Status:"),n(),r(3,"select",28),b("ngModelChange",function(o){v(t);let l=f();return g(l.filter.status,o)||(l.filter.status=o),C(o)}),r(4,"option",29),a(5,"All"),n(),r(6,"option",27),a(7),n(),r(8,"option",27),a(9),n(),r(10,"option",27),a(11),n()(),r(12,"label",30),a(13,"Total:"),n(),r(14,"div",31)(15,"input",32),b("ngModelChange",function(o){v(t);let l=f();return g(l.filter.minTotal,o)||(l.filter.minTotal=o),C(o)}),n(),r(16,"label",33),a(17,"min"),n()(),r(18,"div",31)(19,"input",34),b("ngModelChange",function(o){v(t);let l=f();return g(l.filter.maxTotal,o)||(l.filter.maxTotal=o),C(o)}),n(),r(20,"label",35),a(21,"max"),n()(),r(22,"button",36),u("click",function(){v(t);let o=f();return C(o.apply())}),a(23," Apply "),n()()}if(c&2){let t=f();i(3),m("ngModel",t.filter.status),i(3),d("value",t.subscriptionStatus.Active),i(),h(" ",t.subscriptionStatus.Active," "),i(),d("value",t.subscriptionStatus.Pending),i(),h(" ",t.subscriptionStatus.Pending," "),i(),d("value",t.subscriptionStatus.Failed),i(),h(" ",t.subscriptionStatus.Failed," "),i(4),m("ngModel",t.filter.minTotal),i(4),m("ngModel",t.filter.maxTotal)}}function Ae(c,s){if(c&1&&(r(0,"tr")(1,"td",37)(2,"p",38),a(3),n()(),r(4,"td",37)(5,"p"),a(6),n()(),r(7,"td",37)(8,"p"),a(9),n()(),r(10,"td",37)(11,"p"),a(12),n()(),r(13,"td",37)(14,"p"),a(15),n()(),r(16,"td",37)(17,"p"),a(18),n()(),r(19,"td",37)(20,"p"),a(21),n()(),r(22,"td",37)(23,"p"),a(24),n()(),r(25,"td",37)(26,"p"),a(27),n()(),r(28,"td",37)(29,"p"),a(30),n()()()),c&2){let t=s.$implicit,e=f();i(2),d("ngClass",e.statusClass(t.status)),i(),h(" ",t.status," "),i(3),h(" ",t.subscription," "),i(3),h(" ",t.items," "),i(3),_(t.total),i(3),_(t.startDate),i(3),_(t.endDate?t.endDate:"-"),i(3),_(t.nextPayment),i(3),_(t.lastOrderDate),i(3),_(t.endDate),i(3),_(t.orders)}}var de=class c{subscriptionRows=[];showFilter=!1;currentPage=1;itemsPerPage=10;sortField="startDate";sortAsc=!0;subscriptionStatus=re;filter={};_searchTerm="";get searchTerm(){return this._searchTerm}set searchTerm(s){this._searchTerm=s,this.goToPage(1)}get filteredRows(){let s=this.filterOrderRows(this.subscriptionRows,this.filter);return s=s.sort((t,e)=>{let o=t[this.sortField].toLowerCase(),l=e[this.sortField].toLowerCase();return o<l?this.sortAsc?-1:1:o>l?this.sortAsc?1:-1:0}),s}get paginatedRows(){let s=(this.currentPage-1)*this.itemsPerPage,t=s+this.itemsPerPage;return this.filteredRows.slice(s,t)}get totalPages(){return Math.ceil(this.filteredRows.length/this.itemsPerPage)}statusClass(s){return s}openFilter(){this.showFilter=!this.showFilter}closeFilter(){this.showFilter=!1}apply(){this.showFilter=!1,this.applyFilters()}applyFilters(){this.goToPage(1)}goToPage(s){s<1&&(s=1),s>this.totalPages&&(s=this.totalPages),this.currentPage=s}prevPage(){this.goToPage(this.currentPage-1)}nextPage(){this.goToPage(this.currentPage+1)}toggleSort(){this.sortAsc=!this.sortAsc}filterOrderRows(s,t){let e=t.searchTerm?.toLowerCase()??"";return s.filter(o=>{let l=e===""||o.subscription.toLowerCase().includes(e),k=t.status===void 0||t.status===null||t.status===""||o.status===t.status,E=t.minTotal===void 0||t.minTotal===null||parseFloat(o.total.replace("$","").split("/")[0])>=t.minTotal,p=t.maxTotal===void 0||t.maxTotal===null||parseFloat(o.total.replace("$","").split("/")[0])<=t.maxTotal;return this.showFilter?l:l&&k&&E&&p})}static \u0275fac=function(t){return new(t||c)};static \u0275cmp=P({type:c,selectors:[["app-subscriptions-table"]],inputs:{subscriptionRows:"subscriptionRows"},decls:74,vars:17,consts:[[1,"table-container","color-background","d-flex","flex-col","justify-between","p-24"],[1,"d-flex","flex-col"],[1,"d-flex","justify-between","items-center","mb-24"],[1,"table-titles"],[1,"subtitle","mb-6"],[1,"table-actions-container","smallText","d-flex","items-center"],[1,"search-user-container","d-flex","items-center","p-10","mr-10"],["for","search-user",1,"mr-10"],[1,"icon-search","color-background"],["id","search-user","type","text","placeholder","Search subscription",1,"search-box","color-background","smallText",3,"ngModelChange","ngModel"],[1,"sort-Btn","regularText","color-secondary-300","p-10","mr-10",3,"click"],[1,"filter-container"],[1,"filter-btn","color-secondary-300","smallText","d-flex","items-center","p-10",3,"click"],[1,"icon-filter","color-secondary-300"],[1,"filter-modal","py-20","px-24","d-flex","flex-col"],[1,"table-scroll-container"],[1,"regularText"],[1,"regularText","py-18"],[1,"pagination-controls","d-flex","justify-between","items-center","mt-10","regularText"],[1,"page-controls","d-flex","justify-between","items-center"],[1,"side-controls","d-flex","items-center"],[1,"regularText",3,"click","disabled"],[1,"d-flex","items-center"],[1,"d-flex","justify-between","items-center","mt-10"],["for","page-input",1,"regularText","mr-10","pb-2"],["id","page-input","type","number",1,"page-input","p-8","smallText","color-background",2,"width","4rem",3,"ngModelChange","change","min","max","ngModel"],[1,"color-secondary-300","smallText","mt-10","ml-20",3,"ngModelChange","change","ngModel"],[3,"value"],[1,"color-background",3,"ngModelChange","ngModel"],["value",""],[1,"mt-10"],[1,"percentage-input","d-flex","items-center","justify-between","p-10"],["id","min-orders","type","number","placeholder","Min",1,"search-box","color-background","smallText",3,"ngModelChange","ngModel"],["for","min-orders"],["id","max-orders","type","number","placeholder","Max",1,"search-box","color-background","smallText",3,"ngModelChange","ngModel"],["for","max-orders"],[1,"filter-btn","p-10","bg-primary-400","color-bg-black","inputText",3,"click"],[1,"smallText"],[1,"status","p-6",3,"ngClass"]],template:function(t,e){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),a(5,"Subscriptions"),n()(),r(6,"div",5)(7,"div",6)(8,"label",7),x(9,"span",8),n(),r(10,"input",9),b("ngModelChange",function(l){return g(e.searchTerm,l)||(e.searchTerm=l),l}),n()(),r(11,"button",10),u("click",function(){return e.toggleSort()}),r(12,"span"),a(13),n(),a(14),n(),r(15,"div",11)(16,"button",12),u("click",function(){return e.openFilter()}),x(17,"span",13),a(18," Filter "),n(),B(19,Ie,24,9,"div",14),n()()(),r(20,"div",15)(21,"table",16)(22,"thead")(23,"tr")(24,"th",17),a(25,"Status"),n(),r(26,"th",17),a(27,"Subscription"),n(),r(28,"th",17),a(29,"Items"),n(),r(30,"th",17),a(31,"Total"),n(),r(32,"th",17),a(33,"Start Date"),n(),r(34,"th",17),a(35,"Trial End"),n(),r(36,"th",17),a(37,"Next Payment"),n(),r(38,"th",17),a(39,"Last Order Date"),n(),r(40,"th",17),a(41,"End Date"),n(),r(42,"th",17),a(43,"Orders"),n(),x(44,"th"),n()(),r(45,"tbody"),j(46,Ae,31,11,"tr",null,G),n()()()(),r(48,"div",18)(49,"div",19)(50,"div",20)(51,"button",21),u("click",function(){return e.prevPage()}),a(52," < "),n(),r(53,"button",21),u("click",function(){return e.goToPage(1)}),a(54," << "),n()(),r(55,"span"),a(56),n(),r(57,"div",20)(58,"button",21),u("click",function(){return e.goToPage(e.totalPages)}),a(59," >> "),n(),r(60,"button",21),u("click",function(){return e.nextPage()}),a(61," > "),n()()(),r(62,"div",22)(63,"div",23)(64,"label",24),a(65,"Go to page"),n(),r(66,"input",25),b("ngModelChange",function(l){return g(e.currentPage,l)||(e.currentPage=l),l}),u("change",function(){return e.goToPage(e.currentPage)}),n()(),r(67,"select",26),b("ngModelChange",function(l){return g(e.itemsPerPage,l)||(e.itemsPerPage=l),l}),u("change",function(){return e.goToPage(1)}),r(68,"option",27),a(69,"5 items"),n(),r(70,"option",27),a(71,"10 items"),n(),r(72,"option",27),a(73,"25 items"),n()()()()()),t&2&&(i(10),m("ngModel",e.searchTerm),i(3),_(e.sortAsc?"\u2191":"\u2193"),i(),h(" ",e.sortAsc?"Sort by: First date":"Sort by: Last date"," "),i(5),N(e.showFilter?19:-1),i(27),z(e.paginatedRows),i(5),d("disabled",e.currentPage===1),i(2),d("disabled",e.currentPage===1),i(3),Y("Page ",e.currentPage," of ",e.totalPages),i(2),d("disabled",e.currentPage===e.totalPages),i(2),d("disabled",e.currentPage===e.totalPages),i(6),d("min",1)("max",e.totalPages),m("ngModel",e.currentPage),i(),m("ngModel",e.itemsPerPage),i(),d("value",5),i(2),d("value",10),i(2),d("value",25))},dependencies:[T,ee,S,I,A,U,H,W,D,q,K,F],styles:[".table-container[_ngcontent-%COMP%]{background:radial-gradient(ellipse 36% 42% at top center,#5186e41a,#5186e403);border-radius:16px;border:.5px solid #434343;max-height:43rem}.table-container[_ngcontent-%COMP%]   .table-scroll-container[_ngcontent-%COMP%]{max-height:500px;overflow-y:auto}.search-box[_ngcontent-%COMP%]{background-color:transparent;border:none}.search-box[_ngcontent-%COMP%]:focus{outline:none}.search-box[_ngcontent-%COMP%]::placeholder{color:#cfd8dc}.search-user-container[_ngcontent-%COMP%], .percentage-input[_ngcontent-%COMP%]{border-radius:6px}.search-user-container[_ngcontent-%COMP%]{border:1px solid var(--White, #eaf2f8)}.percentage-input[_ngcontent-%COMP%]{border:.5px solid #434343}.percentage-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:3rem}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-top:1px solid #2e3440}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:-2px;background-color:#151516;z-index:10;border-bottom:1px solid #444}.table-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.table-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#222b39;border-radius:6px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:14px;text-align:left}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #2e3440}.status[_ngcontent-%COMP%]{border-radius:4px;width:100%;width:fit-content}.Active[_ngcontent-%COMP%]{background:#14ae5c26;color:#14ae5c}.Pending[_ngcontent-%COMP%]{background:#ff950026;color:#ffc16b}.Failed[_ngcontent-%COMP%]{background:#ff3b3026;color:#ff3b30}.filter-btn[_ngcontent-%COMP%]{height:fit-content;border-radius:6px;border:none;cursor:pointer;text-decoration:none}.filter-modal[_ngcontent-%COMP%]{position:absolute;top:45px;right:0;background:radial-gradient(ellipse 36% 42% at top center,#5186e41a,#5186e403),#181a1d;border:.5px solid #4a4a4a;color:#e4e7ec;border-radius:6px;box-shadow:0 4px 16px #35353524;gap:16px;z-index:100}.filter-modal[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500}.filter-modal[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:#181a1d;border:.5px solid #434343;border-radius:6px;padding:7px}.filter-modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:fit-content;border-radius:6px;border:none;cursor:pointer}.filter-container[_ngcontent-%COMP%]{position:relative}.filter-btn[_ngcontent-%COMP%]{border-radius:6px;background:#9ec4f21a;border:none;gap:10px;cursor:pointer;transition:background .2s}.filter-btn[_ngcontent-%COMP%]:hover{background:#232939}.progress-container[_ngcontent-%COMP%]{width:100%}.progress-bar-bg[_ngcontent-%COMP%]{width:100%;height:7px;border-radius:6px;background:#202621;position:relative;overflow:hidden}.progress-bar-fill[_ngcontent-%COMP%]{height:100%;border-radius:6px;background:#9bf526;transition:width .2s}.pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;color:#5186e4;border:none;cursor:pointer}.pagination-controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-radius:.25rem;background:#9ec4f21a;border:none;padding:7px}.pagination-controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:#181a1d;border:none}.pagination-controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:focus{outline:none}.pagination-controls[_ngcontent-%COMP%]   .side-controls[_ngcontent-%COMP%]{gap:1.25rem}.pagination-controls[_ngcontent-%COMP%]   .page-controls[_ngcontent-%COMP%]{gap:1.625rem}.pagination-controls[_ngcontent-%COMP%]   .page-input[_ngcontent-%COMP%]{background:transparent;border-radius:6px;border:1px solid var(--White, #eaf2f8)}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield;-moz-appearance:textfield}.sort-Btn[_ngcontent-%COMP%]{border-radius:.375rem;background:#9ec4f21a;border:none}"]})};var X=()=>[],we=class c{constructor(s){this.store=s}revenueSummary=null;revenueDailyData=null;revenueMonthlyData=null;revenueTableData=null;loading=!1;orderTableData=null;subscriptionsTableData=null;ngOnInit(){this.loadConfig()}loadConfig(){this.revenueSummary=Ce,this.revenueDailyData=ye,this.revenueMonthlyData=Me,this.revenueTableData=Pe,this.orderTableData=Te,this.subscriptionsTableData=Se,this.getUsersData()}getUsersData(){}static \u0275fac=function(t){return new(t||c)(Z(he))};static \u0275cmp=P({type:c,selectors:[["app-revenue"]],decls:17,vars:16,consts:[[1,"main-titles","color-background","d-flex","flex-col","mb-50"],[1,"titleText","mb-32"],[1,"regularText"],[1,"d-flex","stats-card-container","mb-24"],["title","Gross Revenue",1,"stat-card",3,"value"],["title","Returns",1,"stat-card",3,"value"],["title","Coupons",1,"stat-card",3,"value"],["title","Net Revenue",1,"stat-card",3,"value"],["title","Total Revenue",1,"stat-card",3,"value"],[1,"middle-container","d-flex","mb-24"],[3,"dailyData","monthlyData"],[1,"mb-24",3,"revenueRows"],[1,"mb-24",3,"orderRows"],[3,"subscriptionRows"],[3,"visible"]],template:function(t,e){t&1&&(r(0,"div",0)(1,"h1",1),a(2,"Revenue"),n(),r(3,"h3",2),a(4," Track your growth with clear insights into platform performance and product metrics. "),n()(),r(5,"div",3),x(6,"app-stat-card",4)(7,"app-stat-card",5)(8,"app-stat-card",6)(9,"app-stat-card",7)(10,"app-stat-card",8),n(),r(11,"div",9),x(12,"app-revenue-graph",10),n(),x(13,"app-revenue-table",11)(14,"app-orders-table",12)(15,"app-subscriptions-table",13)(16,"app-loading-popup",14)),t&2&&(i(6),d("value",`$${e.revenueSummary!=null&&e.revenueSummary.grossRevenue?e.revenueSummary==null?null:e.revenueSummary.grossRevenue:0}`),i(),d("value",`$${e.revenueSummary!=null&&e.revenueSummary.returns?e.revenueSummary==null?null:e.revenueSummary.returns:0}`),i(),d("value",`$${e.revenueSummary!=null&&e.revenueSummary.coupons?e.revenueSummary==null?null:e.revenueSummary.coupons:0}`),i(),d("value",`$${e.revenueSummary!=null&&e.revenueSummary.netRevenue?e.revenueSummary==null?null:e.revenueSummary.netRevenue:0}`),i(),d("value",`$${e.revenueSummary!=null&&e.revenueSummary.totalRevenue?e.revenueSummary==null?null:e.revenueSummary.totalRevenue:0}`),i(2),d("dailyData",e.revenueDailyData?e.revenueDailyData:$(11,X))("monthlyData",e.revenueMonthlyData?e.revenueMonthlyData:$(12,X)),i(),d("revenueRows",e.revenueTableData?e.revenueTableData:$(13,X)),i(),d("orderRows",e.orderTableData?e.orderTableData:$(14,X)),i(),d("subscriptionRows",e.subscriptionsTableData?e.subscriptionsTableData:$(15,X)),i(),d("visible",e.loading))},dependencies:[T,fe,S,xe,ae,le,se,de],styles:[".stats-card-container[_ngcontent-%COMP%]{min-width:71.3125rem;display:flex;gap:24px;overflow-x:auto;overflow-y:hidden;align-items:flex-start;box-sizing:border-box;scrollbar-width:none;-ms-overflow-style:none}.stats-card-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{min-width:16.5625rem;flex:0 0 auto}.stats-card-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}app-revenue-graph[_ngcontent-%COMP%], app-orders-table[_ngcontent-%COMP%]{width:100%}"]})};export{we as RevenueComponent};
