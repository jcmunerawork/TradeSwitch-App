<div class="win-loss-chart-container p-30">
  <div class="chart-header d-flex justify-between items-center mb-20">
    <h2 class="subtitle color-background">Average win/loss trades</h2>
    <!--
      <button class="more-options-btn">
        <span class="icon-more-options">⋯</span>
      </button>
    -->
  </div>
  
  <div class="chart-content d-flex justify-center items-center">
    <div class="chart-wrapper">
      <!-- Texto y número por fuera cuando no hay datos -->
      
      <apx-chart
        [series]="chartOptions.series"
        [chart]="chartOptions.chart"
        [labels]="chartOptions.labels"
        [colors]="chartOptions.colors"
        [dataLabels]="chartOptions.dataLabels"
        [plotOptions]="chartOptions.plotOptions"
        [legend]="chartOptions.legend"
        [tooltip]="chartOptions.tooltip"
        [stroke]="chartOptions.stroke"
      ></apx-chart>
    </div>

    <!-- Labels debajo del círculo solo cuando hay datos -->
    @if (values && values.length > 0) {
    <div class="chart-labels-overlay">
      <div class="loss-segment">
        <div class="segment-value">{{ formatCurrency(winLossData.lossValue) }}</div>
        <div class="segment-percentage loss-color">{{ formatPercentage(winLossData.lossPercentage) }}</div>
      </div>
      <div class="win-segment">
        <div class="segment-value">{{ formatCurrency(winLossData.winValue) }}</div>
        <div class="segment-percentage win-color">{{ formatPercentage(winLossData.winPercentage) }}</div>
      </div>
    </div>
    }
  </div>
</div>
