<div class="pnl-graph-container p-24 d-flex flex-col items-start">
  <div class="ml-10 d-flex justify-between items-center up-title">
    <div class="color-background">
      <p class="regularText">Total Profit</p>
      <p class="secondTitle my-26">${{ getFormatedValue(getTotalProfit) }}</p>
    </div>
    
    <!-- Filter Section -->
    <div class="filter-section">
      <!-- Active Date Filter -->
      <div class="active-filters-container" *ngIf="selectedDate">
        <div class="filter-chip">
          <span class="filter-label">{{ selectedDate | date:'short' }}</span>
          <button class="remove-filter-btn" (click)="clearDateFilter()">
            <span class="material-symbols-outlined" style="font-size: 18px;">close</span>
          </button>
        </div>
      </div>
      
      <!-- Controls Row -->
      <div class="controls-row d-flex align-items-center gap-12">
        
        <button class="filter-btn mr-20" (click)="toggleDateFilter()">
          <span>Date Filter</span>
          <span class="material-symbols-outlined filter-icon" style="font-size: 20px;">calendar_today</span>
        </button>
      </div>
      
      <!-- Date Filter Dropdown -->
      <div class="filter-dropdown mr-20" *ngIf="showDateFilter">
        <div class="filter-dropdown-content">
          <div class="date-filter-section">
            <h4 class="filter-title">Filter by Date</h4>
            <input 
              type="date" 
              class="date-input"
              [value]="selectedDate"
              (change)="onDateSelected($any($event.target).value)"
            >
            <div class="filter-actions">
              <button class="clear-btn" (click)="clearDateFilter()">
                Clear Filter
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <apx-chart
    [series]="chartOptions.series"
    [chart]="chartOptions.chart"
    [xaxis]="chartOptions.xaxis"
    [yaxis]="chartOptions.yaxis"
    [stroke]="chartOptions.stroke"
    [fill]="chartOptions.fill"
    [grid]="chartOptions.grid"
    [dataLabels]="chartOptions.dataLabels"
    [tooltip]="chartOptions.tooltip"
    style="width: 100%"
  ></apx-chart>
  <p class="smallText color-text-gray"></p>
</div>
